{"version":4,"terraform_version":"1.10.7","serial":3,"lineage":"f8500786-aa3e-b3c5-a10d-7cbe4a3b73a1","outputs":{"api_endpoint":{"value":"https://nzghyyezdwil2hbl3idbq6bmfm0acomn.lambda-url.us-east-2.on.aws/","type":"string"}},"resources":[{"mode":"managed","type":"aws_lambda_function_url","name":"default","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"authorization_type":"NONE","cors":[],"function_arn":"arn:aws:lambda:us-east-2:893143134709:function:lambda-sample","function_name":"lambda-sample","function_url":"https://nzghyyezdwil2hbl3idbq6bmfm0acomn.lambda-url.us-east-2.on.aws/","id":"lambda-sample","invoke_mode":"BUFFERED","qualifier":"","timeouts":null,"url_id":"nzghyyezdwil2hbl3idbq6bmfm0acomn"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9fQ==","dependencies":["module.function.aws_iam_role.lambda","module.function.aws_lambda_function.function","module.function.data.archive_file.source_code","module.function.data.aws_iam_policy_document.policy"]}]},{"module":"module.function","mode":"data","type":"archive_file","name":"source_code","provider":"provider[\"registry.opentofu.org/hashicorp/archive\"]","instances":[{"schema_version":0,"attributes":{"exclude_symlink_directories":null,"excludes":null,"id":"50993f487d75ec843778aaf288dad4a59a5b36cd","output_base64sha256":"5u1+RBQ9wfZ77/3YkDHYFteamsXrxHOWaEdivzZuehQ=","output_base64sha512":"3xFj4fCGPVXd6GJW9UxqZ8L33T7RvH7NVpNi/m0qBt+6OxF92KQ+lTN39WI8D9X+IF02ZdbBcolekXNSYQL0Gw==","output_file_mode":null,"output_md5":"383971d82a0f035548bf5acb74469d92","output_path":".terraform/modules/function/ch3/tofu/modules/lambda/lambda-sample.zip","output_sha":"50993f487d75ec843778aaf288dad4a59a5b36cd","output_sha256":"e6ed7e44143dc1f67beffdd89031d816d79a9ac5ebc47396684762bf366e7a14","output_sha512":"df1163e1f0863d55dde86256f54c6a67c2f7dd3ed1bc7ecd569362fe6d2a06dfba3b117dd8a43e953377f5623c0fd5fe205d3665d6c172895e9173526102f41b","output_size":238,"source":[],"source_content":null,"source_content_filename":null,"source_dir":"./src","source_file":null,"type":"zip"},"sensitive_attributes":[]}]},{"module":"module.function","mode":"data","type":"aws_iam_policy_document","name":"allow_logging","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"16712114","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"logs:CreateLogGroup\"\n      ],\n      \"Resource\": \"arn:aws:logs:*:*:*\"\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Resource\":\"arn:aws:logs:*:*:*\"}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["logs:CreateLogGroup","logs:CreateLogStream","logs:PutLogEvents"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[],"resources":["arn:aws:logs:*:*:*"],"sid":""}],"version":"2012-10-17"},"sensitive_attributes":[]}]},{"module":"module.function","mode":"data","type":"aws_iam_policy_document","name":"policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"2690255455","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"lambda.amazonaws.com\"\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Action\":\"sts:AssumeRole\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["sts:AssumeRole"],"condition":[],"effect":"Allow","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["lambda.amazonaws.com"],"type":"Service"}],"resources":[],"sid":""}],"version":"2012-10-17"},"sensitive_attributes":[]}]},{"module":"module.function","mode":"managed","type":"aws_iam_role","name":"lambda","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::893143134709:role/lambda-sample","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-09T21:26:34Z","description":"","force_detach_policies":false,"id":"lambda-sample","inline_policy":[{"name":"lambda-sample-allow-logging","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"}]}"}],"managed_policy_arns":[],"max_session_duration":3600,"name":"lambda-sample","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROA47432WH2W26Z6I2SL"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.function.data.aws_iam_policy_document.policy"]}]},{"module":"module.function","mode":"managed","type":"aws_iam_role_policy","name":"allow_logging","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"lambda-sample:lambda-sample-allow-logging","name":"lambda-sample-allow-logging","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"logs:PutLogEvents\",\"logs:CreateLogStream\",\"logs:CreateLogGroup\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"}]}","role":"lambda-sample"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.function.aws_iam_role.lambda","module.function.data.aws_iam_policy_document.allow_logging","module.function.data.aws_iam_policy_document.policy"]}]},{"module":"module.function","mode":"managed","type":"aws_lambda_function","name":"function","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-2:893143134709:function:lambda-sample","code_sha256":"5u1+RBQ9wfZ77/3YkDHYFteamsXrxHOWaEdivzZuehQ=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"NODE_ENV":"production"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":".terraform/modules/function/ch3/tofu/modules/lambda/lambda-sample.zip","function_name":"lambda-sample","handler":"index.handler","id":"lambda-sample","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-2:893143134709:function:lambda-sample/invocations","kms_key_arn":"","last_modified":"2025-11-09T21:26:44.343+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/lambda-sample","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:us-east-2:893143134709:function:lambda-sample:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:us-east-2:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-2:893143134709:function:lambda-sample:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::893143134709:role/lambda-sample","runtime":"nodejs20.x","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"5u1+RBQ9wfZ77/3YkDHYFteamsXrxHOWaEdivzZuehQ=","source_code_size":238,"tags":{},"tags_all":{},"timeout":5,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19","dependencies":["module.function.aws_iam_role.lambda","module.function.data.archive_file.source_code","module.function.data.aws_iam_policy_document.policy"]}]}],"check_results":null}
